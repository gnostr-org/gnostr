# THIS FILE IS AUTOMATICALLY GENERATED BY CARGO
#
# When uploading crates to the registry Cargo will automatically
# "normalize" Cargo.toml files for maximal compatibility
# with all versions of Cargo and also rewrite `path` dependencies
# to registry (e.g., crates.io) dependencies.
#
# If you are reading this file be aware that the original Cargo.toml
# will likely look very different (and much more reasonable).
# See Cargo.toml.orig for the original contents.

[package]
edition = "2021"
rust-version = "1.70.0"
name = "nostr-sdk"
version = "0.37.0"
authors = [
    "Yuki Kishimoto <yukikishimoto@protonmail.com>",
    "Rust Nostr Developers",
]
build = false
autobins = false
autoexamples = false
autotests = false
autobenches = false
description = "High level Nostr client library."
homepage = "https://github.com/rust-nostr/nostr"
readme = "README.md"
keywords = [
    "nostr",
    "sdk",
]
license = "MIT"
repository = "https://github.com/rust-nostr/nostr.git"

[package.metadata.docs.rs]
all-features = true
rustdoc-args = [
    "--cfg",
    "docsrs",
]

[lib]
name = "nostr_sdk"
path = "src/lib.rs"

[[example]]
name = "aggregated-query"
path = "examples/aggregated-query.rs"
required-features = [
    "all-nips",
    "lmdb",
]

[[example]]
name = "blacklist"
path = "examples/blacklist.rs"
required-features = ["all-nips"]

[[example]]
name = "bot"
path = "examples/bot.rs"
required-features = ["all-nips"]

[[example]]
name = "client"
path = "examples/client.rs"
required-features = ["all-nips"]

[[example]]
name = "client-with-opts"
path = "examples/client-with-opts.rs"
required-features = ["all-nips"]

[[example]]
name = "comment"
path = "examples/comment.rs"

[[example]]
name = "fetch-events"
path = "examples/fetch-events.rs"
required-features = ["all-nips"]

[[example]]
name = "gossip"
path = "examples/gossip.rs"
required-features = ["all-nips"]

[[example]]
name = "limits"
path = "examples/limits.rs"

[[example]]
name = "lmdb"
path = "examples/lmdb.rs"
required-features = [
    "all-nips",
    "lmdb",
]

[[example]]
name = "negentropy"
path = "examples/negentropy.rs"
required-features = [
    "all-nips",
    "lmdb",
]

[[example]]
name = "nip65"
path = "examples/nip65.rs"

[[example]]
name = "nostr-connect"
path = "examples/nostr-connect.rs"
required-features = ["nip59"]

[[example]]
name = "nostrdb"
path = "examples/nostrdb.rs"
required-features = [
    "all-nips",
    "ndb",
]

[[example]]
name = "shutdown-on-drop"
path = "examples/shutdown-on-drop.rs"

[[example]]
name = "stream-events"
path = "examples/stream-events.rs"
required-features = ["all-nips"]

[[example]]
name = "subscriptions"
path = "examples/subscriptions.rs"
required-features = ["all-nips"]

[[example]]
name = "switch-account"
path = "examples/switch-account.rs"

[[example]]
name = "tor"
path = "examples/tor.rs"
required-features = [
    "all-nips",
    "tor",
]

[[example]]
name = "whitelist"
path = "examples/whitelist.rs"

[[example]]
name = "zapper"
path = "examples/zapper.rs"
required-features = [
    "nip47",
    "nip57",
]

[dependencies.async-utility]
version = "0.2"

[dependencies.atomic-destructor]
version = "0.2"
default-features = false

[dependencies.lnurl-pay]
version = "0.6"
features = ["api"]
optional = true

[dependencies.nostr]
version = "0.37"
features = ["std"]
default-features = false

[dependencies.nostr-database]
version = "0.37"
default-features = false

[dependencies.nostr-relay-pool]
version = "0.37"
default-features = false

[dependencies.nostr-zapper]
version = "0.37"
optional = true
default-features = false

[dependencies.nwc]
version = "0.37"
optional = true
default-features = false

[dependencies.thiserror]
version = "1.0"

[dependencies.tokio]
version = ">=1.37"
features = ["sync"]
default-features = false

[dependencies.tracing]
version = "0.1"
features = [
    "std",
    "attributes",
]
default-features = false

[dev-dependencies.nostr-connect]
version = "0.37"
default-features = false

[dev-dependencies.tokio]
version = ">=1.37"
features = ["macros"]
default-features = false

[dev-dependencies.tracing-subscriber]
version = "0.3"
features = ["env-filter"]

[features]
all-nips = [
    "nip04",
    "nip05",
    "nip06",
    "nip07",
    "nip11",
    "nip44",
    "nip47",
    "nip49",
    "nip57",
    "nip59",
]
default = []
indexeddb = ["dep:nostr-indexeddb"]
lmdb = ["dep:nostr-lmdb"]
ndb = ["dep:nostr-ndb"]
nip03 = ["nostr/nip03"]
nip04 = ["nostr/nip04"]
nip05 = ["nostr/nip05"]
nip06 = ["nostr/nip06"]
nip07 = ["nostr/nip07"]
nip11 = [
    "nostr/nip11",
    "nostr-relay-pool/nip11",
]
nip44 = ["nostr/nip44"]
nip47 = [
    "nostr/nip47",
    "dep:nwc",
]
nip49 = ["nostr/nip49"]
nip57 = [
    "nostr/nip57",
    "dep:nostr-zapper",
    "dep:lnurl-pay",
]
nip59 = ["nostr/nip59"]
tor = ["nostr-relay-pool/tor"]
webln = [
    "nip57",
    "nostr-zapper?/webln",
]

[target.'cfg(not(target_arch = "wasm32"))'.dependencies.nostr-lmdb]
version = "0.37"
optional = true
default-features = false

[target.'cfg(not(target_arch = "wasm32"))'.dependencies.nostr-ndb]
version = "0.37"
optional = true
default-features = false

[target.'cfg(target_arch = "wasm32")'.dependencies.nostr-indexeddb]
version = "0.37"
optional = true
default-features = false
